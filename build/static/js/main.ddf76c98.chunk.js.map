{"version":3,"sources":["App.js","Register.jsx","HomePage.js","auth/auth.js","index.js"],"names":["App","useState","userData","setuserData","history","useHistory","localStorage","getItem","setuserId","useEffect","push","window","location","reload","handleChange","e","target","name","value","className","onSubmit","preventDefault","axios","post","then","res","console","log","data","status","userId","setItem","token","setTimeout","alert","handleSubmit","for","type","id","aria-describedby","onChange","class","placeholder","href","Register","setUserData","onClick","message","HomePage","createEnable","setcreateEnable","blogData","setblogData","showBlog","setshowBlog","allBlogs","setallBlogs","useParams","userid","slice","length","get","map","userID","handleAllBlogs","style","width","removeItem","rows","title","description","PrivateRoute","children","props","render","ReactDOM","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.ddf76c98.chunk.js","sourcesContent":["import \"./App.css\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router\";\nimport { useState, useEffect } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nfunction App() {\n  const [userData, setuserData] = useState({});\n  const history = useHistory();\n  const token = localStorage.getItem(\"token\");\n  const [userId, setuserId] = useState(\"\");\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      history.push(\"/\");\n      window.location.reload();\n    }\n  }, []);\n\n  // if (token) {\n  //   axios.post(\"https://back-end-blogapp.herokuapp.com/token_login\", { token }).then((res) => {\n  //     if (res.data.email) {\n  //     }\n  //   });\n  // }\n\n  const handleSubmit = (e) => {\n    // e.preventDefault();\n    axios.post(\"https://back-end-blogapp.herokuapp.com/login\", userData).then((res) => {\n      console.log(\"dsfffffff\", res, e);\n      if (res.data.status == 1) {\n        console.log(res.data);\n        setuserId(res.data.userId);\n        const token = window.localStorage.setItem(\"token\", res.data.token);\n        setTimeout(() => {\n          history.push(`/:${res.data.userId}`);\n          window.location.reload();\n        }, 1000);\n      } else {\n        alert(\"Email Not Registered !\");\n      }\n    });\n  };\n\n  const handleChange = (e) => {\n    setuserData({\n      ...userData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <div className=\"container\">\n      <br />\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        <div className=\"form-group\">\n          <label for=\"inputEmail\">Email address</label>\n          <input\n            type=\"email\"\n            id=\"inputEmail\"\n            aria-describedby=\"emailHelp\"\n            name=\"email\"\n            onChange={handleChange}\n            class=\"form-control\"\n            placeholder=\"Enter Email\"\n          ></input>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <label for=\"inputPassword\">Enter Password</label>\n          <input\n            className=\"form-control\"\n            type=\"password\"\n            id=\"inputPassword\"\n            name=\"password\"\n            onChange={handleChange}\n            placeholder=\"Enter Password\"\n          ></input>\n        </div>\n        <br />\n        <button type=\"submit\" className=\"btn btn-primary  \">\n          Submit\n        </button>\n      </form>\n      <br />\n      <a href=\"/register\">\n        <button type=\"submit\" className=\"btn btn-primary  \">\n          Register\n        </button>\n      </a>\n    </div>\n  );\n}\n\nexport default App;\n","import axios from \"axios\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Register() {\n  let history = useHistory();\n  const [userData, setUserData] = useState({});\n  const [userId, setuserId] = useState(\"\");\n\n  const handleChange = (e) => {\n    setUserData({\n      ...userData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = () => {\n    axios.post(\"https://back-end-blogapp.herokuapp.com/register\", userData).then((res) => {\n      if (res.data.status == 1) {\n        const token = window.localStorage.setItem(\"token\", res.data.token);\n        setTimeout(() => {\n          history.push(`/:${res.data.userId}`);\n          window.location.reload();\n        }, 1000);\n      } else {\n        alert(res.data.message);\n      }\n    });\n  };\n\n  return (\n    <div>\n      <div className=\"form-group\">\n        <label for=\"fullName\">Full Name</label>\n        <input\n          name=\"name\"\n          type=\"email\"\n          id=\"fullName\"\n          aria-describedby=\"emailHelp\"\n          class=\"form-control\"\n          onChange={handleChange}\n          placeholder=\"Enter Full Name\"\n        ></input>\n        <small id=\"emailHelp\" class=\"form-text text-muted\">\n          We'll never share your email with anyone else.\n        </small>\n      </div>\n      <div className=\"form-group\">\n        <label for=\"inputEmail\">Email address</label>\n        <input\n          name=\"email\"\n          type=\"email\"\n          id=\"inputEmail\"\n          aria-describedby=\"emailHelp\"\n          class=\"form-control\"\n          onChange={handleChange}\n          placeholder=\"Enter Email\"\n        ></input>\n        <small id=\"emailHelp\" class=\"form-text text-muted\">\n          We'll never share your email with anyone else.\n        </small>\n      </div>\n      <div className=\"form-group\">\n        <label for=\"inputPassword\">Enter Password</label>\n        <input\n          className=\"form-control\"\n          type=\"password\"\n          id=\"inputPassword\"\n          onChange={handleChange}\n          name=\"password\"\n          placeholder=\"Enter Password\"\n        ></input>\n      </div>\n      <button type=\"submit\" className=\"btn btn-primary\" onClick={handleSubmit}>\n        Submit\n      </button>\n      <br />\n      <a href=\"/\">Already have account ?</a>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport ReactPaginate from \"react-paginate\";\nimport Pagination from \"rc-pagination\";\nimport Select from \"react-select\";\nimport axios from \"axios\";\n\nfunction HomePage() {\n  const history = useHistory();\n  const [createEnable, setcreateEnable] = useState(false);\n  const [blogData, setblogData] = useState();\n  const [showBlog, setshowBlog] = useState(false);\n  const [allBlogs, setallBlogs] = useState([]);\n\n  const { id } = useParams();\n\n  const logOutClick = () => {\n    localStorage.removeItem(\"token\");\n    setTimeout(() => {\n      history.push(\"/login\");\n      window.location.reload();\n    }, 1000);\n  };\n\n  const handleChange = (e) => {\n    setblogData({ ...blogData, [e.target.name]: e.target.value });\n  };\n\n  const handleCreateBlog = () => {\n    setcreateEnable(true);\n    setshowBlog(false);\n  };\n\n  const submitBlog = (e) => {\n    e.preventDefault();\n    setblogData({\n      ...blogData,\n      [\"token\"]: window.localStorage.getItem(\"token\"),\n    });\n    setblogData({ ...blogData, userID: id.slice(1, id.length) });\n    console.log(blogData);\n    if (blogData.userID) {\n      axios.post(\"https://back-end-blogapp.herokuapp.com/saveBlog\", blogData).then((res) => {\n        console.log(res);\n        if (res.data.status === 1) {\n          setcreateEnable(false);\n          handleAllBlogs();\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    let userid;\n    if (id) {\n      userid = id.slice(1, id.length);\n    }\n\n    axios.get(\"https://back-end-blogapp.herokuapp.com/allBlogs\").then((res) => {\n      res.data.map((data) => {\n        console.log(data.userID, userid);\n        if (data.userId === userid) {\n          allBlogs.push(res);\n        }\n      });\n      // console.log(res.data);\n\n      setallBlogs(res);\n      setshowBlog(true);\n    });\n  }, []);\n\n  const handleAllBlogs = () => {\n    let allBlogs = [];\n    let userid;\n    if (id) {\n      userid = id.slice(1, id.length);\n    }\n\n    axios.get(\"/allBlogs\").then((res) => {\n      res.data.map((data) => {\n        console.log(data.userID, userid);\n        if (data.userId === userid) {\n          allBlogs.push(res);\n        }\n      });\n      // console.log(res.data);\n\n      setallBlogs(res);\n      setshowBlog(true);\n    });\n    setcreateEnable(false);\n  };\n\n  return (\n    <>\n      <div class=\"container\" style={{ width: \"20%\" }}>\n        <div class=\"row\">\n          <div class=\"col-sm\"></div>\n        </div>\n      </div>\n      <section class=\"text-gray-600 body-font\">\n        <div class=\"container px-5 py-24 mx-auto\">\n          <div className=\"write\">\n            <button className=\"btn btn-success\" onClick={handleAllBlogs}>\n              All Blog\n            </button>\n            <span> </span>\n            <button className=\"btn btn-dark\" onClick={handleCreateBlog}>\n              Create Blog\n            </button>\n            <span> </span>\n\n            <button\n              className=\"btn btn-primary float-right ml-3 \"\n              onClick={logOutClick}\n            >\n              {\" \"}\n              Log Out\n            </button>\n            <br />\n            {/* <img\n              className=\"writeImg\"\n              src=\"https://images.pexels.com/photos/6685428/pexels-photo-6685428.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\n              alt=\"\"\n            /> */}\n            {createEnable ? (\n              <form className=\"writeForm\">\n                <div class=\"form-group\">\n                  <label for=\"exampleFormControlTextarea2\">Title</label>\n                  <textarea\n                    class=\"form-control rounded-0\"\n                    id=\"exampleFormControlTextarea2\"\n                    rows=\"3\"\n                    name=\"title\"\n                    onChange={handleChange}\n                  ></textarea>\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"exampleFormControlTextarea1\">Description</label>\n                  <textarea\n                    class=\"form-control rounded-0\"\n                    id=\"exampleFormControlTextarea1\"\n                    rows=\"10\"\n                    name=\"description\"\n                    onChange={handleChange}\n                  ></textarea>\n                </div>\n\n                <button\n                  className=\"btn btn-primary\"\n                  type=\"submit\"\n                  onClick={submitBlog}\n                >\n                  Submit\n                </button>\n              </form>\n            ) : (\n              \"\"\n            )}\n            <br />\n            {showBlog ? (\n              <span>\n                <h1>\n                  <i>Your Blogs</i>\n                </h1>\n                {console.log(allBlogs.data)}\n                {allBlogs.data.length > 0\n                  ? allBlogs.data.map((res) => {\n                      console.log(res.userID, id);\n                      if (res.userID === id.slice(1, id.length)) {\n                        return (\n                          <>\n                            <br />\n                            <div class=\"card\">\n                              <div class=\"card-header\">Title : {res.title}</div>\n                              <div class=\"card-body\">\n                                <blockquote class=\"blockquote mb-0\">\n                                  <p>Description : {res.description}</p>\n                                  {/* <footer class=\"blockquote-footer\">Someone famous in <cite title=\"Source Title\">Source Title</cite></footer> */}\n                                </blockquote>\n                              </div>\n                            </div>\n                          </>\n                        );\n                      }\n                    })\n                  : \"\"}\n              </span>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n      </section>\n      <div class=\"d-flex justify-content-center d-flex align-items-center\"></div>\n    </>\n  );\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ children, ...props }) => {\n    let isAuth = true\n    return (<Route {...props} render = {() => isAuth ? (children) : <Redirect to={'/'} />} />)\n}\n\nexport default PrivateRoute;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport Register from \"./Register\";\nimport HomePage from \"./HomePage\";\nimport PrivateRoute from \"./auth/auth\";\n\nReactDOM.render(\n  <Router>\n    <Switch>\n      <Route exact path=\"/login\" component={App} />\n      {/* <Route exact path=\"/\" component={App} /> */}\n      <Route exact path=\"/register\" component={Register} />\n      {/* <Route exact path='/homw' component={Register}/> */}\n      {/* {console.log(window.localStorage.getItem(\"token\"))} */}\n      <PrivateRoute exact path=\"/:id\">\n        {/* {window.localStorage.getItem(\"token\") ? ( */}\n        <HomePage />\n        {/* ) : (\n          <Redirect to=\"/login\"></Redirect> */}\n      </PrivateRoute>\n    </Switch>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}