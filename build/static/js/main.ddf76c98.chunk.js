(this.webpackJsonpsignin=this.webpackJsonpsignin||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(30),n=a.n(s),r=(a(39),a(11)),l=a(4),o=a(9),i=(a(40),a(12)),j=a.n(i),b=a(3),d=a(1);var u=function(){var e=Object(c.useState)({}),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(b.g)(),i=(localStorage.getItem("token"),Object(c.useState)("")),u=Object(o.a)(i,2),m=(u[0],u[1]);Object(c.useEffect)((function(){localStorage.getItem("token")&&(n.push("/"),window.location.reload())}),[]);var O=function(e){s(Object(l.a)(Object(l.a)({},a),{},Object(r.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("br",{}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){j.a.post("https://back-end-blogapp.herokuapp.com/login",a).then((function(t){console.log("dsfffffff",t,e),1==t.data.status?(console.log(t.data),m(t.data.userId),window.localStorage.setItem("token",t.data.token),setTimeout((function(){n.push("/:".concat(t.data.userId)),window.location.reload()}),1e3)):alert("Email Not Registered !")}))}()},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{for:"inputEmail",children:"Email address"}),Object(d.jsx)("input",{type:"email",id:"inputEmail","aria-describedby":"emailHelp",name:"email",onChange:O,class:"form-control",placeholder:"Enter Email"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{for:"inputPassword",children:"Enter Password"}),Object(d.jsx)("input",{className:"form-control",type:"password",id:"inputPassword",name:"password",onChange:O,placeholder:"Enter Password"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary  ",children:"Submit"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("a",{href:"/register",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary  ",children:"Register"})})]})},m=(a(68),a(14));var O=function(){var e=Object(b.g)(),t=Object(c.useState)({}),a=Object(o.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),u=Object(o.a)(i,2),m=(u[0],u[1],function(e){n(Object(l.a)(Object(l.a)({},s),{},Object(r.a)({},e.target.name,e.target.value)))});return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{for:"fullName",children:"Full Name"}),Object(d.jsx)("input",{name:"name",type:"email",id:"fullName","aria-describedby":"emailHelp",class:"form-control",onChange:m,placeholder:"Enter Full Name"}),Object(d.jsx)("small",{id:"emailHelp",class:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{for:"inputEmail",children:"Email address"}),Object(d.jsx)("input",{name:"email",type:"email",id:"inputEmail","aria-describedby":"emailHelp",class:"form-control",onChange:m,placeholder:"Enter Email"}),Object(d.jsx)("small",{id:"emailHelp",class:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{for:"inputPassword",children:"Enter Password"}),Object(d.jsx)("input",{className:"form-control",type:"password",id:"inputPassword",onChange:m,name:"password",placeholder:"Enter Password"})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){j.a.post("https://back-end-blogapp.herokuapp.com/register",s).then((function(t){if(1==t.data.status){window.localStorage.setItem("token",t.data.token);setTimeout((function(){e.push("/:".concat(t.data.userId)),window.location.reload()}),1e3)}else alert(t.data.message)}))},children:"Submit"}),Object(d.jsx)("br",{}),Object(d.jsx)("a",{href:"/",children:"Already have account ?"})]})};a(69),a(70);var p=function(){var e=Object(b.g)(),t=Object(c.useState)(!1),a=Object(o.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(),u=Object(o.a)(i,2),m=u[0],O=u[1],p=Object(c.useState)(!1),h=Object(o.a)(p,2),x=h[0],f=h[1],g=Object(c.useState)([]),v=Object(o.a)(g,2),w=v[0],y=v[1],k=Object(b.h)().id,N=function(e){O(Object(l.a)(Object(l.a)({},m),{},Object(r.a)({},e.target.name,e.target.value)))};Object(c.useEffect)((function(){var e;k&&(e=k.slice(1,k.length)),j.a.get("https://back-end-blogapp.herokuapp.com/allBlogs").then((function(t){t.data.map((function(a){console.log(a.userID,e),a.userId===e&&w.push(t)})),y(t),f(!0)}))}),[]);var E=function(){var e,t=[];k&&(e=k.slice(1,k.length)),j.a.get("/allBlogs").then((function(a){a.data.map((function(c){console.log(c.userID,e),c.userId===e&&t.push(a)})),y(a),f(!0)})),n(!1)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{class:"container",style:{width:"20%"},children:Object(d.jsx)("div",{class:"row",children:Object(d.jsx)("div",{class:"col-sm"})})}),Object(d.jsx)("section",{class:"text-gray-600 body-font",children:Object(d.jsx)("div",{class:"container px-5 py-24 mx-auto",children:Object(d.jsxs)("div",{className:"write",children:[Object(d.jsx)("button",{className:"btn btn-success",onClick:E,children:"All Blog"}),Object(d.jsx)("span",{children:" "}),Object(d.jsx)("button",{className:"btn btn-dark",onClick:function(){n(!0),f(!1)},children:"Create Blog"}),Object(d.jsx)("span",{children:" "}),Object(d.jsxs)("button",{className:"btn btn-primary float-right ml-3 ",onClick:function(){localStorage.removeItem("token"),setTimeout((function(){e.push("/login"),window.location.reload()}),1e3)},children:[" ","Log Out"]}),Object(d.jsx)("br",{}),s?Object(d.jsxs)("form",{className:"writeForm",children:[Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"exampleFormControlTextarea2",children:"Title"}),Object(d.jsx)("textarea",{class:"form-control rounded-0",id:"exampleFormControlTextarea2",rows:"3",name:"title",onChange:N})]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"exampleFormControlTextarea1",children:"Description"}),Object(d.jsx)("textarea",{class:"form-control rounded-0",id:"exampleFormControlTextarea1",rows:"10",name:"description",onChange:N})]}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(e){e.preventDefault(),O(Object(l.a)(Object(l.a)({},m),{},Object(r.a)({},"token",window.localStorage.getItem("token")))),O(Object(l.a)(Object(l.a)({},m),{},{userID:k.slice(1,k.length)})),console.log(m),m.userID&&j.a.post("https://back-end-blogapp.herokuapp.com/saveBlog",m).then((function(e){console.log(e),1===e.data.status&&(n(!1),E())}))},children:"Submit"})]}):"",Object(d.jsx)("br",{}),x?Object(d.jsxs)("span",{children:[Object(d.jsx)("h1",{children:Object(d.jsx)("i",{children:"Your Blogs"})}),console.log(w.data),w.data.length>0?w.data.map((function(e){if(console.log(e.userID,k),e.userID===k.slice(1,k.length))return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsxs)("div",{class:"card",children:[Object(d.jsxs)("div",{class:"card-header",children:["Title : ",e.title]}),Object(d.jsx)("div",{class:"card-body",children:Object(d.jsx)("blockquote",{class:"blockquote mb-0",children:Object(d.jsxs)("p",{children:["Description : ",e.description]})})})]})]})})):""]}):""]})})}),Object(d.jsx)("div",{class:"d-flex justify-content-center d-flex align-items-center"})]})},h=a(34),x=function(e){var t=e.children,a=Object(h.a)(e,["children"]);return Object(d.jsx)(b.b,Object(l.a)(Object(l.a)({},a),{},{render:function(){return t}}))};n.a.render(Object(d.jsx)(m.a,{children:Object(d.jsxs)(b.d,{children:[Object(d.jsx)(b.b,{exact:!0,path:"/login",component:u}),Object(d.jsx)(b.b,{exact:!0,path:"/register",component:O}),Object(d.jsx)(x,{exact:!0,path:"/:id",children:Object(d.jsx)(p,{})})]})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.ddf76c98.chunk.js.map